<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Urun Informasi SNBT</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 1.5rem;
      background-color: #ffffff;
      color: #333;
    }

    h1 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 0.25rem;
    }

    h2 {
      font-size: 1.25rem;
      font-weight: 700;
      margin-top: 2rem;
      margin-bottom: 1rem;
    }

    .subtitle {
      color: #888;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    p {
      font-size: 0.95rem;
      line-height: 1.5;
    }

    li {
      font-size: 0.95rem;
      line-height: 1.5;
    }

    .disclaimer {
      background-color: #eaf6fd;
      padding: 1rem;
      margin: 1.5rem 0;
      border-radius: 8px;
      font-size: 0.85rem;
    }

    .disclaimer b {
      color: #0077b6;
    }

    .button {
      display: inline-block;
      margin: 1rem 0;
      padding: 0.75rem 1.25rem;
      border: 2px solid #0077b6;
      border-radius: 24px;
      color: #0077b6;
      font-weight: 600;
      text-align: center;
      text-decoration: none;
      transition: 0.2s;
    }

    .button:hover {
      background-color: #0077b6;
      color: white;
    }

    .stats {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-top: 1rem;
    }

    .stat-box {
      background-color: #eaf6fd;
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
    }

    .stat-box .value {
      font-size: 1.25rem;
      font-weight: 700;
      color: #0077b6;
    }

    .stat-box .label {
      font-size: 0.9rem;
      margin-top: 0.25rem;
    }

    ol {
      padding-left: 1.25rem;
      margin-top: 0.5rem;
    }

	.form-section {
	  background-color: #eaf6fd;
	  padding-top: 1rem;   /* ⬅️ padding atas */
	  padding-bottom: 0.25rem;/* ⬅️ padding bawah */
	  padding-left: 1.25rem;
	  padding-right: 1.25rem;
	  border-radius: 8px;
	  margin-top: 2rem;
	}

    .form-section label {
      font-weight: 600;
      display: block;
      margin-bottom: 0.5rem;
    }

	.form-section select {
	  width: 100%;
	  background-color: #ffffff;             /* latar putih */
	  background-image: none;                /* hilangkan gradasi */
	  border: 2px solid #0077b6;
	  border-radius: 12px;
	  padding: 0.75rem 1rem;
	  height: 48px;
	  font-size: 1rem;
	  color: #333;
	  font-family: 'Inter', sans-serif;
	  box-sizing: border-box;
	  appearance: none;                      /* hilangkan style default */
	  -webkit-appearance: none;
	  -moz-appearance: none;
	  margin-bottom: 1.5rem; /* ✅ tambahkan ini untuk jarak antar elemen */
	}

	.form-section input {
	  width: 100%;
	  padding: 0.75rem 1rem; /* Sama untuk input & select */
	  font-size: 1rem;
	  line-height: 1.5;
	  border: 2px solid #0077b6;
	  border-radius: 12px;
	  font-family: 'Inter', sans-serif;
	  color: #333;
	  box-sizing: border-box;
	  height: 48px; /* <--- tambahkan ini agar pasti sama tinggi */
	  margin-bottom: 1.5rem; /* ✅ tambahkan ini untuk jarak antar elemen */
	}
	
    .photo-validate-title {
      font-size: 1rem;
      font-weight: 700;
      margin-top: 2rem;
      margin-bottom: 0.25rem;
    }

    .photo-validate-note {
      color: #999;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .photo-button {
      display: block;
      width: 100%;
      padding: 0.75rem;
      background-color: #0077b6;
      color: white;
      font-weight: 600;
      text-align: center;
      border: none;
      border-radius: 24px;
      font-size: 1rem;
      cursor: pointer;
    }

    .photo-button:hover {
      background-color: #005f94;
    }

    @media (min-width: 640px) {
      body {
        max-width: 500px;
        margin: 0 auto;
      }
    }
	
	.dropdown-separator {
	  height: 1px;
	  background-color: #ccc;
	  margin-top: 1.5rem;
	  margin-bottom: 2.5rem; /* Atur sesuai jarak ideal */
	  border: none;
	}
		
  </style>
  
</head>
<body>

  <h1>Urun Informasi Nilai SNBT UTBK 2025</h1>
  <p class="subtitle">Dikelola oleh Pahamify</p>

  <p>Ini adalah proyek data terbuka, dengan tujuan untuk mengumpulkan informasi terkait nilai SNBT UTBK terkini dari masyarakat dan untuk masyarakat</p>

  <div class="disclaimer">
    <b>Disclaimer:</b> pemilik proyek tidak bertanggung jawab atas isi data dan dilarang menggunakan data ini untuk keperluan komersial tanpa izin pemilik proyek
  </div>

  <a href="#" class="button">Lihat Data Mentah Di Sini</a>

  <h2>Statistika</h2>
  <div class="stats">
    <div class="stat-box">
      <div class="value">1.000</div>
      <div class="label">data responden telah terkumpul</div>
    </div>
    <div class="stat-box">
      <div class="value">500</div>
      <div class="label">data passing grade telah terkurasi</div>
    </div>
  </div>

  <h2>Ayo Jadi Bagian Proyek Ini Sekarang Juga!</h2>
  <p>Keuntungan ikutan proyek ini:</p>
  <ol>
    <li>Nama kamu muncul di halaman apresiasi</li>
    <li>Jadi bagian dari gerakan yang membantu angkatan berikutnya, gap year, dan semi gap year untuk memprediksi passing grade UTBK-nya</li>
    <li>Berpotensi dapet pahala dan masuk surga ~AMIN</li>
  </ol>

  <p>
    Kamu bisa jadi bagian dari proyek ini dengan semudah lengkapi data berikut ini dengan jujur dan sebenar-benarnya ~BOHONG DOSA LOH
  </p>

  <div class="form-section">
    <label>Nama</label>
    <input type="text" placeholder="Tulis namamu di sini" />

	<label>Universitas Pilihan Pertama</label>
	<select id="universitasDropdown1">
	  <option disabled selected>Memuat...</option>
	</select>

	<label>Jurusan Pilihan Pertama</label>
	<select id="jurusanDropdown1" disabled>
	  <option disabled selected>Tunggu pilihan sebelumnya</option>
	</select>
	
	<label>Apakah Lulus Pilihan Pertama?</label>
	<select id="isLulusDropdown1" disabled>
	  <option disabled selected>Tunggu pilihan sebelumnya</option>
	</select>
	
	<div id="wrapperIsiPilihan2" style="display: none;">
	  <label>Apakah Isi Pilihan Kedua?</label>
	  <select id="isIsiPilihan2" disabled>
	    <option value="" disabled selected>Tunggu pilihan sebelumnya</option>
	  </select>
	  
	  <div id="separatorUniversitas2" class="dropdown-separator" style="display: none;"></div>

	  <div id="wrapperUniversitas2" style="display: none;">
	    <label>Universitas Pilihan Kedua</label>
	    <select id="universitasDropdown2" disabled>
	      <option value="" disabled selected>Tunggu pilihan sebelumnya</option>
	    </select>
		
		<label>Jurusan Pilihan Kedua</label>
		<select id="jurusanDropdown2" disabled>
		  <option value="" disabled selected>Tunggu pilihan sebelumnya</option>
		</select>
		
		<label>Apakah Lulus Pilihan Kedua?</label>
		<select id="isLulusDropdown2" disabled>
		  <option disabled selected>Tunggu pilihan sebelumnya</option>
		</select>
		
		<div id="wrapperIsiPilihan3" style="display: none;">
		  <label>Apakah Isi Pilihan Ketiga?</label>
		  <select id="isIsiPilihan3" disabled>
		    <option value="" disabled selected>Tunggu pilihan sebelumnya</option>
		  </select>
	  
		  <div id="separatorUniversitas3" class="dropdown-separator" style="display: none;"></div>

		  <div id="wrapperUniversitas3" style="display: none;">
		    <label>Universitas Pilihan Ketiga</label>
		    <select id="universitasDropdown3" disabled>
		      <option value="" disabled selected>Tunggu pilihan sebelumnya</option>
		    </select>
		
			<label>Jurusan Pilihan Ketiga</label>
			<select id="jurusanDropdown3" disabled>
			  <option value="" disabled selected>Tunggu pilihan sebelumnya</option>
			</select>
		
			<label>Apakah Lulus Pilihan Ketiga?</label>
			<select id="isLulusDropdown3" disabled>
			  <option disabled selected>Tunggu pilihan sebelumnya</option>
			</select>
		
			<div id="wrapperIsiPilihan4" style="display: none;">
			  <label>Apakah Isi Pilihan Keempat?</label>
			  <select id="isIsiPilihan4" disabled>
			    <option value="" disabled selected>Tunggu pilihan sebelumnya</option>
			  </select>
	  
			  <div id="separatorUniversitas4" class="dropdown-separator" style="display: none;"></div>

			  <div id="wrapperUniversitas4" style="display: none;">
			    <label>Universitas Pilihan Keempat</label>
			    <select id="universitasDropdown4" disabled>
			      <option value="" disabled selected>Tunggu pilihan sebelumnya</option>
			    </select>
		
				<label>Jurusan Pilihan Keempat</label>
				<select id="jurusanDropdown4" disabled>
				  <option value="" disabled selected>Tunggu pilihan sebelumnya</option>
				</select>
		
				<label>Apakah Lulus Pilihan Keempat?</label>
				<select id="isLulusDropdown4" disabled>
				  <option disabled selected>Tunggu pilihan sebelumnya</option>
				</select>
		
		      </div>
		
			 </div>
			 
		    </div>
		
		  </div>
		
	  </div>
	  
	</div>
	
  </div>

  <div>
    <p class="photo-validate-title">Validasi Data Lewat Foto Hasil Pengumuman SNBT</p>
    <p class="photo-validate-note">Validasi belum berhasil coba foto ulang</p>
    <button class="photo-button">Ambil Foto dan Validasi Data</button>
  </div>

  <script>
  
    async function loadDropdownData() {
      const url = "https://opensheet.elk.sh/1IlSAB4nd79f8-x3PDUTnD87P5eZqWcP0fEzZre1ZoyQ/DB-UNIV";

      try {
        const response = await fetch(url);
        const data = await response.json(); // Format: [{ UNIV: "...", JSON-JUR: "..." }]

        const dropdownUniv1 = document.getElementById("universitasDropdown1");
        const dropdownJurusan1 = document.getElementById("jurusanDropdown1");
        const dropdownLulus1 = document.getElementById("isLulusDropdown1");

        const wrapperIsiPilihan2 = document.getElementById("wrapperIsiPilihan2");
        const dropdownIsiPilihan2 = document.getElementById("isIsiPilihan2");		
		const wrapperUniversitas2 = document.getElementById("wrapperUniversitas2");
		const separatorUniversitas2 = document.getElementById("separatorUniversitas2");

		const dropdownUniv2 = document.getElementById("universitasDropdown2");		
		const dropdownJurusan2 = document.getElementById("jurusanDropdown2");
		const dropdownLulus2 = document.getElementById("isLulusDropdown2");

        const wrapperIsiPilihan3 = document.getElementById("wrapperIsiPilihan3");
        const dropdownIsiPilihan3 = document.getElementById("isIsiPilihan3");		
		const wrapperUniversitas3 = document.getElementById("wrapperUniversitas3");
		const separatorUniversitas3 = document.getElementById("separatorUniversitas3");

		const dropdownUniv3 = document.getElementById("universitasDropdown3");		
		const dropdownJurusan3 = document.getElementById("jurusanDropdown3");
		const dropdownLulus3 = document.getElementById("isLulusDropdown3");
		
        const wrapperIsiPilihan4 = document.getElementById("wrapperIsiPilihan4");
        const dropdownIsiPilihan4 = document.getElementById("isIsiPilihan4");		
		const wrapperUniversitas4 = document.getElementById("wrapperUniversitas4");
		const separatorUniversitas4 = document.getElementById("separatorUniversitas4");

		const dropdownUniv4 = document.getElementById("universitasDropdown4");		
		const dropdownJurusan4 = document.getElementById("jurusanDropdown4");
		const dropdownLulus4 = document.getElementById("isLulusDropdown4");
		
        // Inisialisasi awal
        dropdownUniv1.innerHTML = '<option value="" disabled selected>Pilih Universitas</option>';
        dropdownJurusan1.disabled = true;
        dropdownJurusan1.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
		dropdownJurusan1.style.backgroundColor = "#f0f4f8";		
        dropdownJurusan1.style.borderColor = "#ccc";
		dropdownJurusan1.style.color = "#999";

        dropdownLulus1.disabled = true;
        dropdownLulus1.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
		dropdownLulus1.style.backgroundColor = "#f0f4f8";		
        dropdownLulus1.style.borderColor = "#ccc";
		dropdownLulus1.style.color = "#999";

        wrapperIsiPilihan2.style.display = "none";
        dropdownIsiPilihan2.disabled = true;
        dropdownIsiPilihan2.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';

        // Isi dropdown Universitas
        data.forEach(row => {
          if (row["UNIV"]) {
            const opt = document.createElement("option");
            opt.value = row["UNIV"];
            opt.textContent = row["UNIV"];
            dropdownUniv1.appendChild(opt);
          }
        });

        // Event: saat universitas dipilih
        dropdownUniv1.addEventListener("change", () => {
		  const selectedUniv1 = dropdownUniv1.value;
          const selectedRow = data.find(row => row["UNIV"] === selectedUniv1);

          dropdownJurusan1.disabled = true;
          dropdownJurusan1.innerHTML = '<option value="" disabled selected>Pilih Jurusan</option>';

          dropdownLulus1.disabled = true;
          dropdownLulus1.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
  		  dropdownLulus1.style.backgroundColor = "#f0f4f8";		
          dropdownLulus1.style.borderColor = "#ccc";
  		  dropdownLulus1.style.color = "#999";

          wrapperIsiPilihan2.style.display = "none";
          dropdownIsiPilihan2.disabled = true;
          dropdownIsiPilihan2.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
		  
          //wrapperIsiPilihan3.style.display = "none";
          //dropdownIsiPilihan3.disabled = true;
          //dropdownIsiPilihan3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
		   
          if (selectedRow && selectedRow["JSON-JUR"]) {
            const jurusanList1 = selectedRow["JSON-JUR"]
              .split(",")
              .map(j => j.trim())
              .filter(j => j !== "");

            jurusanList1.forEach(jur => {
              const opt = document.createElement("option");
              opt.value = jur;
              opt.textContent = jur;
              dropdownJurusan1.appendChild(opt);
            });

            dropdownJurusan1.disabled = false;			
			dropdownJurusan1.style.backgroundColor = "#ffffff";		
	        dropdownJurusan1.style.borderColor = "#0077b6";
			dropdownJurusan1.style.color = "#333";
          }
        });

        // Event: saat jurusan dipilih
        dropdownJurusan1.addEventListener("change", () => {
          const selectedJurusan1 = dropdownJurusan1.value;

          dropdownIsiPilihan2.disabled = true;
          wrapperIsiPilihan2.style.display = "none";
          dropdownIsiPilihan2.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
		  
          //wrapperIsiPilihan3.style.display = "none";
          //dropdownIsiPilihan3.disabled = true;
          //dropdownIsiPilihan3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';

          if (!selectedJurusan1 || selectedJurusan1 === "") {
            dropdownLulus1.disabled = true;
            dropdownLulus1.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
            return;
          }

          dropdownLulus1.disabled = false;
 		  dropdownLulus1.style.backgroundColor = "#ffffff";		
          dropdownLulus1.style.borderColor = "#0077b6";
		  dropdownLulus1.style.color = "#333";
          dropdownLulus1.innerHTML = `
            <option value="" disabled selected>Pilih salah satu</option>
            <option value="Ya">Ya</option>
            <option value="Tidak">Tidak</option>
          `;
        });

        // Event: saat lulus pilihan pertama dipilih
        dropdownLulus1.addEventListener("change", () => {
		  const value = dropdownLulus1.value?.trim() || "";
          
          if (value === "Tidak") {
            wrapperIsiPilihan2.style.display = "block";
            dropdownIsiPilihan2.disabled = false;
            dropdownIsiPilihan2.innerHTML = `
              <option value="" disabled selected>Pilih salah satu</option>
              <option value="Ya">Ya</option>
              <option value="Tidak">Tidak</option>
            `;
			
		    wrapperUniversitas2.style.display = "none";
		    separatorUniversitas2.style.display = "none";
		    dropdownUniv2.disabled = true;
		    dropdownUniv2.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
			
          } else {
            wrapperIsiPilihan2.style.display = "none";
            dropdownIsiPilihan2.disabled = true;
            dropdownIsiPilihan2.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
			
            wrapperIsiPilihan3.style.display = "none";
            dropdownIsiPilihan3.disabled = true;
            dropdownIsiPilihan3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
          }
        });
		
		dropdownIsiPilihan2.addEventListener("change", () => {
		  const value = dropdownIsiPilihan2.value?.trim() || "";
		  
		  dropdownJurusan2.disabled = true;
		  dropdownJurusan2.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
  		  dropdownJurusan2.style.backgroundColor = "#f0f4f8";		
          dropdownJurusan2.style.borderColor = "#ccc";
  		  dropdownJurusan2.style.color = "#999";
		    
          dropdownLulus2.disabled = true;
          dropdownLulus2.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
  		  dropdownLulus2.style.backgroundColor = "#f0f4f8";		
          dropdownLulus2.style.borderColor = "#ccc";
  		  dropdownLulus2.style.color = "#999";
		  
          wrapperIsiPilihan3.style.display = "none";
          dropdownIsiPilihan3.disabled = true;
          dropdownIsiPilihan3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
			        		  
		  if (value === "Ya") {
		    wrapperUniversitas2.style.display = "block";
		    separatorUniversitas2.style.display = "block";
		    dropdownUniv2.disabled = false;

		    dropdownUniv2.innerHTML = '<option value="" disabled selected>Pilih Universitas</option>';
			            						
		    data.forEach(row => {
		      if (row["UNIV"]) {
		        const opt = document.createElement("option");
		        opt.value = row["UNIV"];
		        opt.textContent = row["UNIV"];
		        dropdownUniv2.appendChild(opt);
		      }
		    });
		  } else {
		    // Jika "Tidak", "", atau "Pilih salah satu"
		    wrapperUniversitas2.style.display = "none";
		    separatorUniversitas2.style.display = "none";
		    dropdownUniv2.disabled = true;
		    dropdownUniv2.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
		  }
		});
		
		dropdownUniv2.addEventListener("change", () => {
		  const selectedUniv2 = dropdownUniv2.value;
		  const selectedRow = data.find(row => row["UNIV"] === selectedUniv2);

		  dropdownJurusan2.disabled = true;
		  dropdownJurusan2.innerHTML = '<option value="" disabled selected>Pilih Jurusan</option>';
  		  
          dropdownLulus2.disabled = true;
          dropdownLulus2.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
  		  dropdownLulus2.style.backgroundColor = "#f0f4f8";		
          dropdownLulus2.style.borderColor = "#ccc";
  		  dropdownLulus2.style.color = "#999";
		  
          wrapperIsiPilihan3.style.display = "none";
          dropdownIsiPilihan3.disabled = true;
          dropdownIsiPilihan3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
		  

		  if (selectedRow && selectedRow["JSON-JUR"]) {
		    const selectedJurusan1 = dropdownJurusan1.value; // jurusan pilihan pertama

		    const jurusanList2 = selectedRow["JSON-JUR"]
		      .split(",")
		      .map(j => j.trim())
		      .filter(j => j !== "" && j !== selectedJurusan1); // ⚠️ filter jurusan 1

		    jurusanList2.forEach(jur => {
		      const opt = document.createElement("option");
		      opt.value = jur;
		      opt.textContent = jur;
		      dropdownJurusan2.appendChild(opt);
		    });

		    dropdownJurusan2.disabled = false;
			dropdownJurusan2.style.backgroundColor = "#ffffff";		
	        dropdownJurusan2.style.borderColor = "#0077b6";
			dropdownJurusan2.style.color = "#333";
		  }
		});
		
        // Event saat jurusan 2 dipilih
        dropdownJurusan2.addEventListener("change", () => {
          const selectedJurusan2 = dropdownJurusan2.value;

          dropdownIsiPilihan3.disabled = true;
          wrapperIsiPilihan3.style.display = "none";
          dropdownIsiPilihan3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';

          if (!selectedJurusan2 || selectedJurusan2 === "") {
            dropdownLulus2.disabled = true;
            dropdownLulus2.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
            return;
          }

          dropdownLulus2.disabled = false;
 		  dropdownLulus2.style.backgroundColor = "#ffffff";		
          dropdownLulus2.style.borderColor = "#0077b6";
		  dropdownLulus2.style.color = "#333";
          dropdownLulus2.innerHTML = `
            <option value="" disabled selected>Pilih salah satu</option>
            <option value="Ya">Ya</option>
            <option value="Tidak">Tidak</option>
          `;
        });
		
        dropdownLulus2.addEventListener("change", () => {
		  const value = dropdownLulus2.value?.trim() || "";
          
          if (value === "Tidak") {
            wrapperIsiPilihan3.style.display = "block";
            dropdownIsiPilihan3.disabled = false;
            dropdownIsiPilihan3.innerHTML = `
              <option value="" disabled selected>Pilih salah satu</option>
              <option value="Ya">Ya</option>
              <option value="Tidak">Tidak</option>
            `;
			
		    wrapperUniversitas3.style.display = "none";
		    separatorUniversitas3.style.display = "none";
		    dropdownUniv3.disabled = true;
		    dropdownUniv3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
			
          } else {
            wrapperIsiPilihan3.style.display = "none";
            dropdownIsiPilihan3.disabled = true;
            dropdownIsiPilihan3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
			
            wrapperIsiPilihan4.style.display = "none";
            dropdownIsiPilihan4.disabled = true;
            dropdownIsiPilihan4.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
          }
        });
		
		dropdownIsiPilihan3.addEventListener("change", () => {
		  const value = dropdownIsiPilihan3.value?.trim() || "";
		  
		  dropdownJurusan3.disabled = true;
		  dropdownJurusan3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
  		  dropdownJurusan3.style.backgroundColor = "#f0f4f8";		
          dropdownJurusan3.style.borderColor = "#ccc";
  		  dropdownJurusan3.style.color = "#999";
		    
          dropdownLulus3.disabled = true;
          dropdownLulus3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
  		  dropdownLulus3.style.backgroundColor = "#f0f4f8";		
          dropdownLulus3.style.borderColor = "#ccc";
  		  dropdownLulus3.style.color = "#999";
		
          wrapperIsiPilihan4.style.display = "none";
          dropdownIsiPilihan4.disabled = true;
          dropdownIsiPilihan4.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
			        		  
		  if (value === "Ya") {
		    wrapperUniversitas3.style.display = "block";
		    separatorUniversitas3.style.display = "block";
		    dropdownUniv3.disabled = false;

		    dropdownUniv3.innerHTML = '<option value="" disabled selected>Pilih Universitas</option>';
			            						
		    data.forEach(row => {
		      if (row["UNIV"]) {
		        const opt = document.createElement("option");
		        opt.value = row["UNIV"];
		        opt.textContent = row["UNIV"];
		        dropdownUniv3.appendChild(opt);
		      }
		    });
		  } else {
		    // Jika "Tidak", "", atau "Pilih salah satu"
		    wrapperUniversitas3.style.display = "none";
		    separatorUniversitas3.style.display = "none";
		    dropdownUniv3.disabled = true;
		    dropdownUniv3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
		  }
		});
		
		dropdownUniv3.addEventListener("change", () => {
		  const selectedUniv3 = dropdownUniv3.value;
		  const selectedRow = data.find(row => row["UNIV"] === selectedUniv3);

		  dropdownJurusan3.disabled = true;
		  dropdownJurusan3.innerHTML = '<option value="" disabled selected>Pilih Jurusan</option>';
  		  
          dropdownLulus3.disabled = true;
          dropdownLulus3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
  		  dropdownLulus3.style.backgroundColor = "#f0f4f8";		
          dropdownLulus3.style.borderColor = "#ccc";
  		  dropdownLulus3.style.color = "#999";
		  
          wrapperIsiPilihan4.style.display = "none";
          dropdownIsiPilihan4.disabled = true;
          dropdownIsiPilihan4.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
		  

		  if (selectedRow && selectedRow["JSON-JUR"]) {
		    const selectedJurusan1 = dropdownJurusan1.value; // jurusan pilihan pertama
			const selectedJurusan2 = dropdownJurusan2.value; // jurusan pilihan kedua

		    const jurusanList3 = selectedRow["JSON-JUR"]
		      .split(",")
		      .map(j => j.trim())
		      .filter(j => j !== "" && j !== selectedJurusan1 && j !== selectedJurusan2); // ⚠️ filter jurusan 1 dan 2
			  
		    jurusanList3.forEach(jur => {
		      const opt = document.createElement("option");
		      opt.value = jur;
		      opt.textContent = jur;
		      dropdownJurusan3.appendChild(opt);
		    });

		    dropdownJurusan3.disabled = false;
			dropdownJurusan3.style.backgroundColor = "#ffffff";		
	        dropdownJurusan3.style.borderColor = "#0077b6";
			dropdownJurusan3.style.color = "#333";
		  }
		});
		
        // Event saat jurusan 3 dipilih
        dropdownJurusan3.addEventListener("change", () => {
          const selectedJurusan3 = dropdownJurusan3.value;

          dropdownIsiPilihan4.disabled = true;
          wrapperIsiPilihan4.style.display = "none";
          dropdownIsiPilihan4.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';

          if (!selectedJurusan3 || selectedJurusan3 === "") {
            dropdownLulus3.disabled = true;
            dropdownLulus3.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
            return;
          }

          dropdownLulus3.disabled = false;
 		  dropdownLulus3.style.backgroundColor = "#ffffff";		
          dropdownLulus3.style.borderColor = "#0077b6";
		  dropdownLulus3.style.color = "#333";
          dropdownLulus3.innerHTML = `
            <option value="" disabled selected>Pilih salah satu</option>
            <option value="Ya">Ya</option>
            <option value="Tidak">Tidak</option>
          `;
        });
		
        dropdownLulus3.addEventListener("change", () => {
		  const value = dropdownLulus3.value?.trim() || "";
          
          if (value === "Tidak") {
            wrapperIsiPilihan4.style.display = "block";
            dropdownIsiPilihan4.disabled = false;
            dropdownIsiPilihan4.innerHTML = `
              <option value="" disabled selected>Pilih salah satu</option>
              <option value="Ya">Ya</option>
              <option value="Tidak">Tidak</option>
            `;
			
		    wrapperUniversitas4.style.display = "none";
		    separatorUniversitas4.style.display = "none";
		    dropdownUniv4.disabled = true;
		    dropdownUniv4.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
			
          } else {			
            wrapperIsiPilihan4.style.display = "none";
            dropdownIsiPilihan4.disabled = true;
            dropdownIsiPilihan4.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
          }
        });
		
		dropdownIsiPilihan4.addEventListener("change", () => {
		  const value = dropdownIsiPilihan4.value?.trim() || "";
		  
		  dropdownJurusan4.disabled = true;
		  dropdownJurusan4.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
  		  dropdownJurusan4.style.backgroundColor = "#f0f4f8";		
          dropdownJurusan4.style.borderColor = "#ccc";
  		  dropdownJurusan4.style.color = "#999";
		    
          dropdownLulus4.disabled = true;
          dropdownLulus4.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
  		  dropdownLulus4.style.backgroundColor = "#f0f4f8";		
          dropdownLulus4.style.borderColor = "#ccc";
  		  dropdownLulus4.style.color = "#999";
					        		  
		  if (value === "Ya") {
		    wrapperUniversitas4.style.display = "block";
		    separatorUniversitas4.style.display = "block";
		    dropdownUniv4.disabled = false;

		    dropdownUniv4.innerHTML = '<option value="" disabled selected>Pilih Universitas</option>';
			            						
		    data.forEach(row => {
		      if (row["UNIV"]) {
		        const opt = document.createElement("option");
		        opt.value = row["UNIV"];
		        opt.textContent = row["UNIV"];
		        dropdownUniv4.appendChild(opt);
		      }
		    });
		  } else {
		    // Jika "Tidak", "", atau "Pilih salah satu"
		    wrapperUniversitas4.style.display = "none";
		    separatorUniversitas4.style.display = "none";
		    dropdownUniv4.disabled = true;
		    dropdownUniv4.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
		  }
		});
		
		dropdownUniv4.addEventListener("change", () => {
		  const selectedUniv4 = dropdownUniv4.value;
		  const selectedRow = data.find(row => row["UNIV"] === selectedUniv4);

		  dropdownJurusan4.disabled = true;
		  dropdownJurusan4.innerHTML = '<option value="" disabled selected>Pilih Jurusan</option>';
  		  
          dropdownLulus4.disabled = true;
          dropdownLulus4.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
  		  dropdownLulus4.style.backgroundColor = "#f0f4f8";		
          dropdownLulus4.style.borderColor = "#ccc";
  		  dropdownLulus4.style.color = "#999";
		  		  
		  if (selectedRow && selectedRow["JSON-JUR"]) {
		    const selectedJurusan1 = dropdownJurusan1.value; // jurusan pilihan pertama
			const selectedJurusan2 = dropdownJurusan2.value; // jurusan pilihan kedua
			const selectedJurusan3 = dropdownJurusan3.value; // jurusan pilihan ketiga

		    const jurusanList4 = selectedRow["JSON-JUR"]
		      .split(",")
		      .map(j => j.trim())
		      .filter(j => j !== "" && j !== selectedJurusan1 && j !== selectedJurusan2 && j !== selectedJurusan3); // ⚠️ filter jurusan 1, 2, dan 3
			  
		    jurusanList4.forEach(jur => {
		      const opt = document.createElement("option");
		      opt.value = jur;
		      opt.textContent = jur;
		      dropdownJurusan4.appendChild(opt);
		    });

		    dropdownJurusan4.disabled = false;
			dropdownJurusan4.style.backgroundColor = "#ffffff";		
	        dropdownJurusan4.style.borderColor = "#0077b6";
			dropdownJurusan4.style.color = "#333";
		  }
		});
		
        // Event saat jurusan 4 dipilih
        dropdownJurusan4.addEventListener("change", () => {
          const selectedJurusan4 = dropdownJurusan4.value;

          if (!selectedJurusan4 || selectedJurusan4 === "") {
            dropdownLulus4.disabled = true;
            dropdownLulus4.innerHTML = '<option value="" disabled selected>Tunggu pilihan sebelumnya</option>';
            return;
          }

          dropdownLulus4.disabled = false;
 		  dropdownLulus4.style.backgroundColor = "#ffffff";		
          dropdownLulus4.style.borderColor = "#0077b6";
		  dropdownLulus4.style.color = "#333";
          dropdownLulus4.innerHTML = `
            <option value="" disabled selected>Pilih salah satu</option>
            <option value="Ya">Ya</option>
            <option value="Tidak">Tidak</option>
          `;
        });
								
      } catch (err) {
        console.error("Gagal memuat data:", err);
      }
    }

    loadDropdownData();
  </script>
  
</body>
</html>
